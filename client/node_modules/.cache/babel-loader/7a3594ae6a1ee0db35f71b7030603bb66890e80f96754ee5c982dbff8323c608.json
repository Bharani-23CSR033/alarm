{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport const useGeolocation = (options = {}) => {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let mounted = true;\n    let watchId;\n    const onSuccess = position => {\n      if (mounted) {\n        setLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        });\n        setError(null);\n      }\n    };\n    const onError = error => {\n      if (mounted) {\n        setError(error.message);\n      }\n    };\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n    } else {\n      // Get initial position\n      navigator.geolocation.getCurrentPosition(onSuccess, onError, options);\n\n      // Watch position\n      watchId = navigator.geolocation.watchPosition(onSuccess, onError, options);\n    }\n    return () => {\n      mounted = false;\n      if (watchId) {\n        navigator.geolocation.clearWatch(watchId);\n      }\n    };\n  }, [options]);\n  return {\n    location,\n    error\n  };\n};\n_s(useGeolocation, \"T1fEaCzQdoK20qLAFqfcCiHV1Ow=\");\nexport default useGeolocation;","map":{"version":3,"names":["useState","useEffect","useGeolocation","options","_s","location","setLocation","error","setError","mounted","watchId","onSuccess","position","lat","coords","latitude","lng","longitude","onError","message","navigator","geolocation","getCurrentPosition","watchPosition","clearWatch"],"sources":["C:/Alart/location-alarm-pwa/client/src/hooks/useGeolocation.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nexport const useGeolocation = (options = {}) => {\r\n    const [location, setLocation] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        let watchId;\r\n\r\n        const onSuccess = (position) => {\r\n            if (mounted) {\r\n                setLocation({\r\n                    lat: position.coords.latitude,\r\n                    lng: position.coords.longitude,\r\n                });\r\n                setError(null);\r\n            }\r\n        };\r\n\r\n        const onError = (error) => {\r\n            if (mounted) {\r\n                setError(error.message);\r\n            }\r\n        };\r\n\r\n        if (!navigator.geolocation) {\r\n            setError('Geolocation is not supported by your browser');\r\n        } else {\r\n            // Get initial position\r\n            navigator.geolocation.getCurrentPosition(onSuccess, onError, options);\r\n\r\n            // Watch position\r\n            watchId = navigator.geolocation.watchPosition(onSuccess, onError, options);\r\n        }\r\n\r\n        return () => {\r\n            mounted = false;\r\n            if (watchId) {\r\n                navigator.geolocation.clearWatch(watchId);\r\n            }\r\n        };\r\n    }, [options]);\r\n\r\n    return { location, error };\r\n};\r\n\r\nexport default useGeolocation;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,OAAO,MAAMC,cAAc,GAAGA,CAACC,OAAO,GAAG,CAAC,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZ,IAAIQ,OAAO,GAAG,IAAI;IAClB,IAAIC,OAAO;IAEX,MAAMC,SAAS,GAAIC,QAAQ,IAAK;MAC5B,IAAIH,OAAO,EAAE;QACTH,WAAW,CAAC;UACRO,GAAG,EAAED,QAAQ,CAACE,MAAM,CAACC,QAAQ;UAC7BC,GAAG,EAAEJ,QAAQ,CAACE,MAAM,CAACG;QACzB,CAAC,CAAC;QACFT,QAAQ,CAAC,IAAI,CAAC;MAClB;IACJ,CAAC;IAED,MAAMU,OAAO,GAAIX,KAAK,IAAK;MACvB,IAAIE,OAAO,EAAE;QACTD,QAAQ,CAACD,KAAK,CAACY,OAAO,CAAC;MAC3B;IACJ,CAAC;IAED,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;MACxBb,QAAQ,CAAC,8CAA8C,CAAC;IAC5D,CAAC,MAAM;MACH;MACAY,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACX,SAAS,EAAEO,OAAO,EAAEf,OAAO,CAAC;;MAErE;MACAO,OAAO,GAAGU,SAAS,CAACC,WAAW,CAACE,aAAa,CAACZ,SAAS,EAAEO,OAAO,EAAEf,OAAO,CAAC;IAC9E;IAEA,OAAO,MAAM;MACTM,OAAO,GAAG,KAAK;MACf,IAAIC,OAAO,EAAE;QACTU,SAAS,CAACC,WAAW,CAACG,UAAU,CAACd,OAAO,CAAC;MAC7C;IACJ,CAAC;EACL,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,OAAO;IAAEE,QAAQ;IAAEE;EAAM,CAAC;AAC9B,CAAC;AAACH,EAAA,CA3CWF,cAAc;AA6C3B,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}